# Lovable 精准指令：丹丹的粉雪之旅

> 将以下内容完整粘贴到 Lovable，分阶段执行。每个阶段完成后检查，再进行下一阶段。

---

## 🎯 项目概述

创建一个**青森滑雪旅行规划网站**，为两人（金宝和丹丹）的7天日本滑雪之旅提供行程管理、准备清单、留言板和AI助手。

**核心特点：**

- 杂志风格的高端视觉设计（深色Hero + 毛玻璃效果）
- **移动端优先**响应式布局（主要在手机上使用）
- 使用 Supabase 实现数据同步（清单、留言、待办）
- 中文界面
- **支持添加到手机桌面（PWA）**
- **进入密码保护**

---

## 阶段零：前置配置（必须先做）

### 指令

```
在开始创建页面之前，先配置以下基础功能：

1. PWA 支持（添加到手机桌面）
   - 配置 manifest.json
   - 应用名称：丹丹的粉雪之旅
   - 短名称：粉雪之旅
   - 主题色：#1a1a2e
   - 背景色：#1a1a2e
   - 显示模式：standalone（全屏无浏览器UI）
   - 图标：使用用户上传的 apple_logo.png（192x192 和 512x512）
   - 添加 Apple Touch Icon meta 标签

2. 密码保护
   - 首次访问显示密码输入页面
   - 密码：dandan
   - 验证通过后保存到 localStorage（7天有效）
   - 密码页面设计：
     - 深色渐变背景（与首页一致）
     - 中央卡片：输入框 + 确认按钮
     - 标题："私密旅程"
     - 副标题："请输入密码进入"
     - 错误时显示红色提示"密码错误"
     - 正确后淡出跳转到首页

3. 移动端优化
   - viewport 设置禁止缩放
   - 安全区域适配（env(safe-area-inset-*)）
   - 触摸反馈（active状态）
   - 滚动优化（-webkit-overflow-scrolling: touch）
   - 底部固定元素避开虚拟键盘
   - 字体最小14px（防止iOS自动放大）
   - 输入框 font-size 至少16px（防止iOS缩放）
   - 所有按钮最小点击区域 44x44px
```

---

## 阶段一：基础框架 + 首页

### 指令

```
创建一个React网站，名为"丹丹的粉雪之旅"。

设计风格：
- 杂志风格，高端简约
- 主色：#E85A4F（珊瑚红）
- 背景深色渐变：#1a1a2e → #16213e → #0f3460
- 中文字体：Noto Serif SC（标题）+ Noto Sans SC（正文）
- 英文数字：DM Serif Display

首页结构：

1. 顶部导航（position: fixed）
   - 初始透明，滚动后变为白色毛玻璃效果
   - 左侧：品牌名"粉雪之旅"（滚动后显示）
   - 右侧链接：雪场、味、准备、万一、臭臭（臭臭有特殊圆角背景）

2. Hero区域（全屏100vh，深色渐变背景）
   - 丹丹头像（使用 logo.png，圆形，80px，白色边框2px，带浮动动画和发光效果）
   - 顶部小字：AOMORI · FEBRUARY 2026（浅色，letter-spacing宽）
   - 主标题：丹丹的（换行）粉雪之旅（大号衬线字体，白色）
   - 副标题：七天 · 青森 · 八甲田
   - 倒计时卡片（毛玻璃效果）：显示距离2026年2月7日的天数
   - 底部滚动提示：↓ 探索行程（带浮动动画）

3. 快速入口区（section）
   - 章节编号"01"（小字，珊瑚色）+ 标题"快速入口"
   - 2×2网格卡片：
     - ⛷️ 雪场攻略 → /ski
     - 🍜 吃什么 → /food
     - ✅ 准备清单 → /checklist
     - 🗣️ 日语对照 → /phrases
   - AI助手特殊卡片（紫色渐变背景 #667EEA → #764BA2）
     - 使用 apple_logo.png 作为头像（臭臭是丹丹心爱的猫）
     - 🐱 臭臭 · 猫猫助手 → /ai

4. 七天行程区（section）
   - 章节编号"02"+ 标题"七天行程"
   - 7个行程卡片，每个包含：
     - 左侧日期（大号数字 + FEB小字）
     - 右侧标题 + 描述
   - 日期数据：
     - 07: 出发日 / 仙台→青森
     - 08: 八甲田初体验 / 第一次滑粉雪
     - 09: 雪灯笼祭 / 弘前城之夜
     - 10: Aomori Spring / 树林野雪
     - 11: 自由日 / 继续滑 or 乳头温泉
     - 12: 回程 / 青森→仙台
     - 13: 回家 / 仙台机场出发

5. 页脚
   - "为丹丹和金宝的旅行而制作 ❄️"
   - 链接：看看别人怎么玩 → /videos

添加雪花飘落动画效果在Hero区域。
```

---

## 阶段二：准备清单页面（使用 Supabase）

### Supabase 表结构

```sql
-- 清单勾选状态表
create table checklist_items (
  id uuid primary key default gen_random_uuid(),
  item_key text not null,
  user_name text not null check (user_name in ('金宝', '丹丹')),
  checked boolean default false,
  created_at timestamptz default now(),
  unique(item_key, user_name)
);

-- 个人待办表
create table todos (
  id uuid primary key default gen_random_uuid(),
  text text not null,
  owner text not null check (owner in ('金宝', '丹丹')),
  completed boolean default false,
  created_at timestamptz default now()
);

-- 留言表
create table messages (
  id uuid primary key default gen_random_uuid(),
  author text not null check (author in ('金宝', '丹丹')),
  content text not null,
  created_at timestamptz default now()
);

-- 开启实时同步
alter publication supabase_realtime add table checklist_items;
alter publication supabase_realtime add table todos;
alter publication supabase_realtime add table messages;
```

### 指令

```
创建准备清单页面 /checklist：

1. 页面布局
   - 顶部返回按钮"← 返回"
   - 标题"准备清单"，副标题"金宝和丹丹的行李检查"
   - 用户选择按钮（二选一状态）：👦金宝 / 👧丹丹

2. 清单内容（每个分类都是双列勾选：左边物品名，右边两个checkbox分别对应金宝和丹丹）
   
   表头显示：[物品名] [👦] [👧]
   
   📋 出发必备：
   - 护照（有效期6个月以上）
   - 签证（确认有效）
   - 机票（打印确认单）
   - JR Pass兑换券
   - 酒店预订确认单
   - 旅行保险（含滑雪）
   
   📱 电子设备：
   - 手机+充电器
   - 日本手机卡/WiFi
   - 充电宝（≤100Wh）
   - 相机/GoPro
   
   💴 现金与支付：
   - 日元现金（5-10万円）
   - 信用卡（Visa/Master）
   - 银联卡（ATM取现）
   
   ⛷️ 滑雪装备：
   - 雪镜、滑雪手套、头盔（可租）、滑雪服、排汗内衣、滑雪袜、面罩/脖套
   
   🧴 日用品：
   - 防晒霜、唇膏、常用药、洗漱用品、保暖衣物

3. 个人待办区域
   - 分两列：👦金宝待办 / 👧丹丹待办
   - 每列有输入框+添加按钮
   - 待办项可勾选完成、删除

4. 浮动留言按钮
   - 右下角紫色渐变圆形按钮💬
   - 点击弹出快速留言面板（从底部滑出）
   - 选择身份 → 输入留言 → 发送
   - 发送成功显示Toast提示

5. 底部链接"💬 查看留言板 →"跳转到 /messages

使用 Supabase 存储清单勾选状态、待办和留言，启用实时同步。
金宝的checkbox用蓝色(#3B82F6)，丹丹用粉色(#EC4899)。
```

---

## 阶段三：留言板页面

### 指令

```
创建留言板页面 /messages：

1. 标题"留言板"，副标题"金宝和丹丹的秘密基地"
2. 用户选择：👦金宝 / 👧丹丹（切换发言身份）
3. 留言列表
   - 金宝的留言靠左，蓝色背景 #DBEAFE
   - 丹丹的留言靠右，粉色背景 #FCE7F3
   - 每条显示：头像emoji + 名字 + 时间 + 内容
4. 底部输入框 + 发送按钮

使用 Supabase messages 表，实时同步新消息。
有新消息时自动滚动到最新。
```

---

## 阶段四：雪场对比页面

### 指令

```
创建雪场页面 /ski，包含4个雪场卡片：

1. 八甲田国际滑雪场
   - 适合：初中级
   - 特点：有压雪道，适合热身
   - 标签：初学友好、有餐厅

2. 八甲田缆车（Ropeway）
   - 适合：中高级
   - 特点：野雪天堂，粉雪圣地
   - 标签：野雪、需要向导
   - ⚠️警告：容易迷路，新手务必请向导

3. Aomori Spring
   - 适合：中级
   - 特点：树林穿越，每日限200票
   - 标签：限量票、树林道
   - ⚠️警告：必须网上预约

4. 田�的湖（备选）
   - 适合：全等级
   - 距离秋田更近，作为Plan B

底部区域：滑雪装备租借提醒
```

---

## 阶段五：美食页面

### 指令

```
创建美食页面 /food，分区展示：

🌟 必吃推荐（大卡片带"必吃"标签）：
1. 古川市场 のっけ丼
   - 海鲜盖饭自选，约1500-2500円
   - 地址：青森市古川1-11-16
   - 营业：7:00-16:00（周二休）
   - 小贴士：早去人少，买券自选配菜

2. 味の札幌大西（味噌牛奶咖喱拉面）
   - 青森特色，约900円
   - 营业：11:00-21:00

3. 仙台牛舌（利久）
   - 必吃！厚切炭烤
   - 推荐：牛舌定食套餐

普通推荐：
- 青森苹果派
- A-Factory 苹果酒
- 雪场咖喱饭

日语点餐速查：
- 请给我这个：これをください
- 多少钱：いくらですか
- 好吃：おいしい
- 结账：お会計お願いします
```

---

## 阶段六：紧急情况页面

### 指令

```
创建紧急页面 /emergency，包含：

1. 紧急电话（可点击拨打）
   - 警察：110
   - 急救/火警：119
   - 中国驻日大使馆：03-3403-3388

2. 滑雪场景应对（手风琴展开）：
   - 陷入深雪：5步脱困指南
   - 滑雪受伤：膝盖/骨折/头部处理
   - 雪场迷路：原地等待+求救
   - 冻伤失温：急救步骤

3. 交通中断应对
   - 新干线停运处理
   - 航班取消处理

4. 医院信息
   - 青森县立中央病院
   - 仙台市立病院

5. 保险提醒（红色警告框）
   - 日本医疗费用极贵
   - 骨折手术约50-100万日元

6. 出发前检查清单（可交互勾选）
```

---

## 阶段七：AI助手页面

### 指令

```
创建AI助手页面 /ai：

臭臭是丹丹心爱的猫咪，所以用猫猫头像会让她很开心！

1. 头部
   - 臭臭头像（使用 apple_logo.png，圆形，紫色渐变边框，带浮动动画）
   - "臭臭"标题 + "在线"指示器（绿点+脉动动画）
   - 副标题"丹丹的猫猫旅行助手 🐱"

2. 快捷问题chips（点击直接发送）：
   - "八甲田缆车怎么去？"
   - "这个日语怎么说？"
   - "滑雪受伤怎么办？"
   - "推荐附近吃什么？"

3. 聊天区域
   - 用户消息靠右，毛玻璃背景
   - AI回复靠左，带头像
   - 支持Markdown渲染

4. 底部输入区
   - 输入框
   - 图片上传按钮（识图功能）
   - 发送按钮

预留Gemini API集成接口（window.GEMINI_API_KEY）。
系统提示词包含旅行上下文：青森滑雪、日期2月7-13日、两人行程。
```

---

## 阶段八：每日行程详情页

### 指令

```
创建7个每日详情页 /day/0207 到 /day/0213：

通用结构：
- 返回首页按钮
- 页面标题（渐变文字效果）
- 日期副标题
- 时间线布局（左侧时间 + 右侧内容卡片）
- 底部日期导航（← 前一天 / 后一天 →）

2月7日（出发日）：
- 08:00 仙台机场落地
- 10:00 JR Pass兑换
- 13:00 新干线出发
- 16:00 到达青森
- 18:00 酒店Check-in

2月8日（八甲田初体验）：
- 07:00 早餐
- 08:30 JR巴士去八甲田
- 09:30 八甲田国际滑雪场
- 12:00 午餐
- 16:00 返回青森
- 20:00 酒店温泉

（其他日期参考已有内容）

每页包含当日住宿信息卡片。
```

---

## 阶段九：其他页面

### 指令

```
1. 创建日语对照页面 /phrases
   - 分类：问候、交通、用餐、购物、滑雪、紧急
   - 每项显示：中文 + 日语 + 罗马音
   - 点击复制功能

2. 创建视频推荐页面 /videos
   - 分类tabs：滑雪、文化、温泉、美食
   - 视频卡片（缩略图+标题+来源）
   - 链接到YouTube搜索结果
```

---

## 🎨 全局设计要求

```
确保全站遵循以下设计规范：

1. 响应式：移动端优先，375px断点
2. 动画：所有交互有过渡效果（0.2s ease）
3. 深色模式：自动跟随系统偏好
4. 毛玻璃效果：backdrop-filter: blur(10px)
5. 卡片悬浮：hover时向上移动4px + 阴影加深
6. 页面切换：fadeIn动画

字体：
- 标题：Noto Serif SC
- 正文：Noto Sans SC  
- 英文数字：DM Serif Display

颜色：
- 主色：#E85A4F
- 强调：#667EEA（紫）
- 金宝：#3B82F6（蓝）
- 丹丹：#EC4899（粉）
```

---

## ✅ 验收检查清单

每个阶段完成后检查：

- [ ] 页面在手机模拟器下正常显示
- [ ] 深色模式下对比度正常
- [ ] 所有点击交互有反馈
- [ ] Supabase数据正确读写
- [ ] 无控制台报错
- [ ] 中文显示正确（无乱码）

---

## 💡 使用说明

1. 复制每个阶段的指令到Lovable
2. 等待生成完成后预览检查
3. 有问题就追加修改指令
4. 确认无误后进入下一阶段
5. 最后配置Supabase并部署

祝顺利！🎿
